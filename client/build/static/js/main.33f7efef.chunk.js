(this["webpackJsonpnews-hawker"]=this["webpackJsonpnews-hawker"]||[]).push([[0],{43:function(e,t,n){},86:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(31),a=n(76),i=n(102),r=n(103),s=n(101),l=n(74),o=n(3),j=n.n(o),d=n(68),b=n.n(d),h=(n(86),n(43),n(26)),x=n(11),u=n(69),p=n(75),O=n(2);Object(p.a)(u.loadAnimation);var m,g,v=function(){return Object(O.jsxs)("header",{children:[Object(O.jsx)("section",{className:"wings",children:Object(O.jsx)("lord-icon",{src:"https://cdn.lordicon.com/hpxruznz.json",trigger:"loop",colors:"primary:#ea5a5a,secondary:#08a88a",style:{width:"80px",height:"80px"}})}),Object(O.jsx)("h1",{children:Object(O.jsx)("i",{children:"News Hawker"})}),Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(h.b,{to:"/saved",children:"Saved Stories"})}),Object(O.jsx)("li",{children:Object(O.jsx)(h.b,{to:"/login",children:"Login"})})]})})]})},f=n(15),w=n.n(f),y=n(27),k=n(21),S=n(105),A=n(34),$=n(104),N=(Object($.a)(m||(m=Object(A.a)(["\n  query getUser($_id: String) {\n    me(_id: $_id) {\n      _id\n      username\n      email\n      password\n      savedArticles {\n        source\n        authors\n        title\n        description\n        url\n        image\n        publishedAt\n        content\n      }\n    }\n  }\n"]))),Object($.a)(g||(g=Object(A.a)(["\nquery getArticle($search:String!){\n  getArticle(search:$search) {\n    title\n    description\n    content\n    url\n    image\n    publishedAt\n    authors\n  }\n}\n"]))));var T=function(e){var t=Object(S.a)(N),n=Object(k.a)(t,2),c=n[0],a=(n[1].data,Object(o.useState)("")),i=Object(k.a)(a,2),r=i[0],s=i[1],l=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),c({variables:{search:r}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("section",{id:"search",children:Object(O.jsxs)("div",{style:{display:"inline-block"},children:[Object(O.jsx)("h3",{className:"search-header",children:Object(O.jsx)("b",{children:"SEARCH ARTICLE BY NAME:"})}),Object(O.jsx)("input",{id:"topic-search",onChange:function(e){var t=e.target,n=(t.name,t.value);s(n)}}),Object(O.jsx)("button",{id:"topic-submit",onClick:l,children:Object(O.jsx)("i",{children:"SUBMIT"})})]})}),Object(O.jsxs)("main",{children:[Object(O.jsxs)("div",{className:"article-box",children:[Object(O.jsxs)("section",{className:"article-content",children:[Object(O.jsx)("h4",{className:"article-title",children:"Article Title"}),Object(O.jsx)("p",{className:"article-source",children:"Article Source"}),Object(O.jsx)("p",{className:"article-text",children:"Article text article text article text article text article text article text article text article text article text article text article text article text article text article text article text article text."})]}),Object(O.jsx)("img",{className:"article-image",src:"https://via.placeholder.com/120x478",alt:""})]}),Object(O.jsxs)("div",{className:"article-box",children:[Object(O.jsxs)("section",{className:"article-content",children:[Object(O.jsx)("h4",{className:"article-title saved",children:"Article Title"}),Object(O.jsx)("p",{className:"article-source",children:"Article Source"}),Object(O.jsx)("p",{className:"article-text",children:"Article text article text article text article text article text article text article text article text article text article text article text article text article text article text article text article text."})]}),Object(O.jsx)("img",{className:"article-image",src:"https://via.placeholder.com/200x340",alt:""})]})]})]})},_={height:"90px",width:"100%",borderTop:"1px solid #882200"},I={paddingTop:"3px",borderTop:"1px solid #aa0000"},U={marginTop:"5px"};var C=function(){return Object(O.jsx)("footer",{children:Object(O.jsx)("div",{style:I,children:Object(O.jsx)("section",{style:_,children:Object(O.jsxs)("h2",{style:U,children:[Object(O.jsx)("a",{href:"https://github.com/Delaalex/",children:"Alejandro"})," | ",Object(O.jsx)("a",{href:"https://github.com/JG-77",children:"Jessie"})," | ",Object(O.jsx)("a",{href:"https://github.com/maxwellstickels/",children:"Max"})," | ",Object(O.jsx)("a",{href:"https://github.com/djony88",children:"Nikola"})]})})})})};var D,E,M,B,F=function(e){return Object(O.jsxs)("main",{children:[Object(O.jsx)("div",{style:{height:"70px"}}),Object(O.jsx)("p",{style:{textAlign:"center",fontSize:"72px"},children:Object(O.jsx)("u",{children:"404"})}),Object(O.jsx)("p",{style:{textAlign:"center"},children:" The page you are looking for does not exist! Sorry!"}),Object(O.jsx)("p",{style:{textAlign:"center"},children:Object(O.jsx)(h.b,{to:"/",style:{color:"#aaaaaa",textDecoration:"none"},children:"\u2190 Go to Homepage"})}),Object(O.jsx)("div",{style:{height:"100px"}})]})},z=n(40),J=n(107),q=n(13),H=n(14),L=n(63),P=new(function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"getProfile",value:function(){return Object(L.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(L.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),G=Object($.a)(D||(D=Object(A.a)(["\n  mutation loginUser($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),R=Object($.a)(E||(E=Object(A.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"])));Object($.a)(M||(M=Object(A.a)(["\n  mutation saveArticle(\n    $title: String!\n    $description: String!\n    $content: String!\n    $url: String!\n    $image: String\n    $publishedAt: String\n  ) {\n    saveArticle(\n      title: $title\n      description: $description\n      content: $content\n      url: $url\n      publishedAt: $publishedAt\n      image: $image\n    ) {\n      _id\n      userID\n      title\n      description\n      content\n      url\n      publishedAt\n      image\n    }\n  }\n"]))),Object($.a)(B||(B=Object(A.a)(["\n  mutation remove($_id: ID!) {\n    removeArticle(_id: $_id) {\n      _id\n      userID\n      title\n      description\n      content\n      url\n      publishedAt\n      image\n    }\n  }\n"])));var Y=function(e){var t=Object(o.useState)({username:"",email:"",password:""}),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(J.a)(R),s=Object(k.a)(r,1)[0],l=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({variables:{username:a.username,email:a.email,password:a.password}});case 3:n=e.sent,c=n.data.addUser.token,P.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,r=t.value;i(Object(c.a)(Object(c.a)({},a),{},Object(z.a)({},n,r)))};return Object(O.jsxs)("main",{children:[Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("h2",{children:"Signup"}),Object(O.jsxs)("form",{onSubmit:l,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(O.jsx)("input",{className:"spaced-input",placeholder:"Username",name:"username",type:"username",id:"username",onChange:j})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{className:"spaced-input",placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:j})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{className:"spaced-input",placeholder:"******",name:"password",type:"password",id:"pwd",onChange:j})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",className:"account-submit",children:Object(O.jsx)("i",{children:"SUBMIT"})})})]})]}),Object(O.jsx)("p",{style:{textAlign:"center",margin:"10px 0"},children:Object(O.jsx)(h.b,{to:"/login",children:"Or log in here!"})}),Object(O.jsx)("div",{style:{height:"60px"}})]})};var K=function(e){var t=Object(o.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(J.a)(G),s=Object(k.a)(r,2),l=s[0],j=s[1].error,d=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l({variables:{email:a.email,password:a.password}});case 4:n=e.sent,c=n.data.login.token,P.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,r=t.value;i(Object(c.a)(Object(c.a)({},a),{},Object(z.a)({},n,r)))};return Object(O.jsxs)("main",{children:[Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)("form",{onSubmit:d,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"email",children:"E-Mail:"}),Object(O.jsx)("input",{className:"spaced-input",placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{className:"spaced-input",placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),j?Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"The provided credentials are incorrect"})}):null,Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",className:"account-submit",children:Object(O.jsx)("i",{children:"SUBMIT "})})})]})]}),Object(O.jsx)("p",{style:{textAlign:"center",margin:"10px 0"},children:Object(O.jsx)(h.b,{to:"/signup",children:"Don't have an account? Sign up here!"})}),Object(O.jsx)("div",{style:{height:"60px"}})]})};var Q=function(){return Object(O.jsx)(h.a,{children:Object(O.jsxs)("div",{className:"body-overlay",style:{backgroundImage:"url(brick.jpeg)"},children:[Object(O.jsx)(v,{}),Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{exact:!0,path:"/",component:T}),Object(O.jsx)(x.a,{exact:!0,path:"/login",component:K}),Object(O.jsx)(x.a,{exact:!0,path:"/signup",component:Y}),Object(O.jsx)(x.a,{render:function(){return Object(O.jsx)(F,{})}})]}),Object(O.jsx)("div",{style:{height:"60px"}}),Object(O.jsx)(C,{})]})})},V=Object(a.a)({uri:"/graphql"}),W=Object(l.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(c.a)(Object(c.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),X=new i.a({link:W.concat(V),cache:new r.a});b.a.render(Object(O.jsx)(j.a.StrictMode,{children:Object(O.jsx)(s.a,{client:X,children:Object(O.jsx)(Q,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.33f7efef.chunk.js.map